# ğŸ½ï¸ Easy Mess Management System

A **Flask-based Mess Management System** to manage hostel meals, deposits, and expenses â€” with login roles for Manager and Boarders.

Fully compatible with both **local SQLite** and **Render + Neon PostgreSQL** setups.

---

## âœ¨ Features

* ğŸ” **Role-based login** (Manager & Boarder)
* ğŸ› **Meal tracking** (Morning, Lunch, Dinner)
* ğŸ’° **Deposits & Expenses**
* ğŸ“… **Monthly management**
* ğŸ“Š **Dashboard summaries**
* â˜ï¸ **Live deployment-ready** (Render + Neon)

---

## ğŸ§© Tech Stack

| Layer    | Technology                                    |
| -------- | --------------------------------------------- |
| Backend  | Flask (Python)                                |
| Database | SQLite (local) / PostgreSQL (Neon for Render) |
| ORM      | SQLAlchemy                                    |
| Auth     | Flask-Login                                   |
| Frontend | HTML + Bootstrap                              |
| Hosting  | Render (Free Tier)                            |

---


## ğŸ§° Local Setup (SQLite)

You can run the project locally **without any configuration** â€” it will automatically use `sqlite:///mess.db`.

### 1ï¸âƒ£ Clone the repo

```bash
git clone https://github.com/asaha12/Easy-Mess.git
cd Easy-Mess
```

### 2ï¸âƒ£ Create a virtual environment

```bash
python -m venv venv
venv\Scripts\activate         # Windows
source venv/bin/activate      # macOS/Linux
```

### 3ï¸âƒ£ Install dependencies

```bash
pip install -r requirements.txt
```

### 4ï¸âƒ£ Run locally

```bash
python app.py
```

Then visit: [http://127.0.0.1:5000](http://127.0.0.1:5000)

âœ… Tables are auto-created
âœ… Data stored in local `mess.db` file

---

## â˜ï¸ Live Deployment (Render + Neon)

### 1ï¸âƒ£ Create a free PostgreSQL database on [Neon](https://neon.tech)

* Create a new project
* Copy the **connection string**, e.g.:

  ```
  postgres://user:password@ep-example.ap-southeast-1.aws.neon.tech/neondb
  ```

---

### 2ï¸âƒ£ Push code to GitHub

Ensure your repo includes:

* `requirements.txt`
* `wsgi.py`
* `app.py`

Then:

```bash
git add .
git commit -m "Prepare for Render deploy"
git push origin main
```

---

### 3ï¸âƒ£ Create a Render Web Service

1. Go to [https://render.com](https://render.com)
2. Click **New â†’ Web Service**
3. Connect your GitHub repo
4. Set:

   * **Build Command:**

     ```
     pip install -r requirements.txt
     ```
   * **Start Command:**

     ```
     gunicorn wsgi:app
     ```
5. Add Environment Variable:

   ```
   DATABASE_URL = <your Neon connection string>
   ```

Render will automatically detect and connect your Flask app.

---

### 4ï¸âƒ£ Database Auto Initialization

Your `app.py` contains:

```python
with app.app_context():
    db.create_all()
```

âœ… Tables auto-create on first startup.
No manual shell access required.

---

## ğŸ§© Initialize First User (Manager)

After your first deployment, you need to manually insert the **first admin user** into your Neon database so you can log in.

### Option A â€” via Neon SQL Editor (Recommended)

1. Go to your **Neon Dashboard**
2. Select your database â†’ open **â€œQuery Editorâ€**
3. Paste this SQL and execute it:

```sql
INSERT INTO user (id, name, username, password, role, email, first_login)
VALUES (
  1,
  'Main Manager',
  'manager1',
  'scrypt:32768:8:1$EUjjiwOra8kdHuOz$63116546ae4059de44ba214c3df752f06dabc66f50d36111db868e4ae42dd410ae58ffce06b8d420d2a090d14fa88074e66e671564e39a346062491792d8af74',
  'manager',
  '',
  1
);
```

âœ… This creates your first login:

| Username | Password                             | Role    |
| -------- | ------------------------------------ | ------- |
| manager1 | (already hashed) use with login page | manager |

*(If password doesnâ€™t work, delete this record and reinsert with a new hash generated by your Flask code.)*

---

## ğŸ” Default Login

| Username | Password              | Role    |
| -------- | --------------------- | ------- |
| manager1 | (use inserted record) | Manager |

---

## âš™ï¸ Environment Variables

| Variable       | Description      | Example                          |
| -------------- | ---------------- | -------------------------------- |
| `DATABASE_URL` | PostgreSQL URI   | `postgresql://user:pass@host/db` |

If `DATABASE_URL` is missing, the app defaults to local SQLite (`mess.db`).

---

## ğŸ§  Notes

* Render Free Tier sleeps after inactivity (cold start takes a few seconds).
* Data persists on Neon (PostgreSQL is always live).
* Redeploying will **not** reset your DB.

---

## ğŸ§‘â€ğŸ’» Author

**Aditya Saha**
ğŸ“§ [GitHub Profile](https://github.com/asaha12)

---

